!function(ng){"use strict";ng.module("overlayApp",[]),ng.module("overlayApp").constant("$io",io)}(angular),function(ng){"use strict";var CONTROLLER_NAME="root.controller";angular.module("overlayApp").controller(CONTROLLER_NAME,["$scope","$hs",function($sc,$hs){$hs.$instantiate("$log");var $rs=$hs.$instantiate("$rootScope"),$overlayService=($hs.$instantiate("$interval"),$hs.$instantiate("$http"),$hs.$instantiate("overlay.service")),$socketService=$hs.$instantiate("socket.service"),_rootData={title:""},_data={};$rs._NAME="rootScope",$sc._NAME=CONTROLLER_NAME,$rs.rootData=_rootData,$sc.data=_data,_rootData.title="Soyto's Twitch overlay",$overlayService.init(),$socketService.init()}])}(),function(ng){"use strict";angular.module("overlayApp").directive("bgScreen",["$hs",function($hs){return{restrict:"A",link:function($sc,$element,$attr){$sc.$on("socket.window",function($$event,$$data){$element.css("height",$$data.height+"px"),$element.css("width",$$data.width+"px")})}}}])}(),function(ng){"use strict";angular.module("overlayApp").directive("stoNotifications",["$hs",function($hs){var $log=$hs.$instantiate("$log");return{restrict:"E",link:function($sc,$element,$attr){},controller:["$scope","$element",function($sc,$element){var _data={elements:[{title:"HOLA",body:"Mundo largo. etc..."}]};$sc.data=_data,$log.debug("scope %o",$sc),$sc.$on("socket.notification",function($$event,$$notification){$log.debug("notification recieved %o",$$notification),$sc.$apply(function(){_data.elements.push($$notification)})})}],templateUrl:"/assets/overlayApp/templates/directives/stoNotifications.tpl.html"}}])}(),function(ng){"use strict";function _fn($injector){this.$instantiate=function(elementName){return $injector.get(elementName)}}ng.module("overlayApp").service("$hs",["$injector",_fn]),ng.module("overlayApp").service("helper.service",["$injector",_fn])}(angular),function(ng){"use strict";angular.module("overlayApp").service("overlay.service",["$hs",function($hs){var $this=this,$http=$hs.$instantiate("$http"),$rs=($hs.$instantiate("$log"),$hs.$instantiate("$rootScope")),$location=$hs.$instantiate("$location");$this.init=function(){$http.get("/v1/overlay").then(function($$response){if(200==$$response.status){var _data=$$response.data;$rs.$broadcast("socket.window",_data.window)}else $location.reload()})}}])}(),function(ng){"use strict";angular.module("overlayApp").service("socket.service",["$hs",function($hs){var $this=this,$log=$hs.$instantiate("$log"),$rs=$hs.$instantiate("$rootScope"),$io=$hs.$instantiate("$io"),$window=$hs.$instantiate("$window");$this.init=function(){var _socket=$io.connect("http://localhost/overlay");_socket.on("notification",function($$data){$rs.$broadcast("socket.notification",$$data)}),_socket.on("reload",function(){$log.debug("reloading..."),$window.location.reload()}),_socket.on("window",function($$data){$rs.$apply(function(){$rs.$broadcast("socket.window",$$data)})})}}])}();